<div class="client-craft umb-editor umb-infinite-editor" ng-controller="Umbraco.Crm.Deals.CreateController as vm">
  <div class="client-craft umb-editor-wrapper">
    <!-- Header -->
    <div class="client-craft umb-editor-header">
      <h3 class="client-craft umb-editor-header__title">
        <localize key="deal_create_title">Create Deal</localize>
      </h3>
      <button type="button" class="client-craft umb-editor-header__close" ng-click="vm.close()">
        <i aria-hidden="true" class="client-craft umb-icon umb-icon-multiply"></i>
      </button>
    </div>

    <!-- Body -->
    <div class="client-craft umb-editor-body">
      <form name="dealForm" ng-submit="vm.submit()" novalidate>
        <div class="editor-panels-container">
          <umb-box class="client-craft">
            <umb-box-content class="client-craft">
              <div class="client-craft umb-control-group">
                <label for="name">Deal Name</label>
                <input type="text" id="name" ng-model="vm.model.name" required />
              </div>

              <div class="client-craft umb-control-group">
                <label for="deal_status_id">Status</label>
                <select id="deal_status_id" ng-model="vm.model.deal_status_id" required>
                  <option value="" disabled>Select status</option>
                  <option ng-repeat="status in vm.dealStatuses" value="{{status.id}}">{{status.label}}</option>
                </select>
              </div>

              <div class="client-craft umb-control-group">
                <label for="amount">Amount</label>
                <input type="number" step="100" id="amount" ng-model="vm.model.amount" required />
              </div>

              <div class="client-craft umb-control-group">
                <label for="close_date">Close Date</label>
                <input type="datetime-local" id="close_date" ng-model="vm.model.close_date" required />
              </div>

              <div class="client-craft umb-control-group">
                <label for="user_id">Owner</label>
                <select id="user_id" ng-model="vm.model.user_id" required>
                  <option value="" disabled>Select owner</option>
                  <option ng-repeat="user in vm.users" value="{{user.id}}">{{user.name}}</option>
                </select>
              </div>

              <div class="client-craft umb-control-group">
                <label for="deal_type_id">Deal Type</label>
                <select id="deal_type_id" ng-model="vm.model.deal_type_id" required>
                  <option value="" disabled>Select type</option>
                  <option ng-repeat="type in vm.dealTypes" value="{{type.id}}">{{type.name}}</option>
                </select>
              </div>

              <div class="client-craft umb-control-group">
                <label for="priority">Priority</label>
                <select id="priority" ng-model="vm.model.priority" required>
                  <option value="" disabled>Select priority</option>
                  <option value="low">Low</option>
                  <option value="medium">Medium</option>
                  <option value="high">High</option>
                </select>
              </div>
            </umb-box-content>
          </umb-box>
        </div>
      </form>
    </div>

    <!-- Footer -->
    <div class="client-craft umb-editor-footer">
      <div class="client-craft umb-editor-footer__buttons">
        <umb-button
          class="client-craft"
          type="button"
          button-style="link"
          label="Cancel"
          action="vm.close()">
        </umb-button>
        <umb-button
          class="client-craft"
          type="submit"
          button-style="success"
          label="Save"
          state="vm.submitState"
          disabled="dealForm.$invalid">
        </umb-button>
      </div>
    </div>
  </div>
</div>
