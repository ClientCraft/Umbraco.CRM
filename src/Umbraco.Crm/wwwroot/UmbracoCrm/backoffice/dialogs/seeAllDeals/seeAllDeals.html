<div class="deals-container" ng-controller="Umbraco.Crm.Dialogs.DealsController as vm">
  <div class="flex justify-center flex-column items-center">
    <div ng-if="vm.deals && vm.deals.length > 0" class="deal-item" ng-repeat="deal in vm.deals track by $index">
      <div class="deal-date">
        Closing Date {{deal.close_date | date:'short':'UTC'}}
        <div style="display: flex; gap: 10px; align-items: center;">
          <span class="deal-pill" ng-class="'deal-pill--' + (deal.status.color || 'default')">{{deal.status.label}}</span>
          <div class="deal-actions">
            <button class="btn-edit" ng-click="vm.editNote(deal)">
              <i class="icon-edit"></i> Edit
            </button>
            <button class="btn-delete" ng-click="vm.deleteNote(deal)">
              <i class="icon-trash"></i> Delete
            </button>
          </div>
        </div>
      </div>
      <div class="deal-title">{{deal.name}}</div>
      <div class="deal-value">{{deal.amount | currency:'€'}}</div>
    </div>
  </div>
  <div ng-if="vm.deals && vm.deals.length === 0" class="no-deals">
    No deals available.
  </div>

  <!-- Loading indicator -->
  <div class="loading-indicator" ng-if="vm.loading">
    Loading more deals...
  </div>
</div>

